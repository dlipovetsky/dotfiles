[init]
	defaultBranch = main
[rebase]
	autosquash = true
	autostash = true
	updateRefs = true
[color "diff"]
	whitespace = red reverse
[diff]
	wsErrorHighlight = all
	colorMoved = zebra
	colorMovedWS = ignore-space-change
	algorithm = histogram
[push]
	default = current
	autoSetupRemote = true
[core]
	editor = nvim
[pull]
	ff = only
[alias]
	# http://ses4j.github.io/2020/04/01/git-alias-recent-branches/
	lb = !git reflog show --pretty=format:'%gs ~ %gd' --date=relative | grep 'checkout:' | grep -oE '[^ ]+ ~ .*' | awk -F~ '!seen[$1]++' | head -n 10 | awk -F' ~ HEAD@{' '{printf(\"  \\033[33m%s: \\033[37m %s\\033[0m\\n\", substr($2, 1, length($2)-1), $1)}'

# GitHub
[url "https://github.com/"]
	insteadOf = git@github.com:

[credential "https://gist.github.com"]
	helper = !/usr/bin/gh auth git-credential

# Signing
[gpg]
	format = ssh
[commit]
	gpgsign = true
[gpg "ssh"]
	allowedSignersFile = /home/dlipovetsky/.config/git/allowed_signers

# Identities
[user]
	email = daniel.lipovetsky@gmail.com
	name = Daniel Lipovetsky
	signingkey = /home/dlipovetsky/.ssh/id_ed25519.pub

[includeIf "gitdir:~/nutanix/**"]
	path = ~/.gitconfig.nutanix

[credential "https://github.com"]
	helper = !/usr/bin/gh auth git-credential
